


  
  
  
  Daily Tracker
  
  
  
  


  
  
    const { useState, useEffect } = React;
    const { createRoot } = ReactDOM;

<pre><code>const App = () =&gt; {
  const [categories, setCategories] = useState([
    { id: 1, name: &#39;Mood&#39;, score: null },
    { id: 2, name: &#39;Energy&#39;, score: null },
    { id: 3, name: &#39;Productivity&#39;, score: null },
    { id: 4, name: &#39;Sleep&#39;, score: null },
    { id: 5, name: &#39;Exercise&#39;, score: null },
  ]);
  const [history, setHistory] = useState([]);
  const [view, setView] = useState(&#39;tracker&#39;);
  const [timeScale, setTimeScale] = useState(&#39;week&#39;);

  useEffect(() =&gt; {
    const savedHistory = localStorage.getItem(&#39;trackerHistory&#39;);
    if (savedHistory) {
      setHistory(JSON.parse(savedHistory));
    }
  }, []);

  const handleScore = (categoryId, score) =&gt; {
    setCategories(categories.map(cat =&gt;
      cat.id === categoryId ? { ...cat, score } : cat
    ));
  };

  const submitScores = () =&gt; {
    const date = new Date().toISOString().split(&#39;T&#39;)[0];
    const newEntry = { date, scores: { ...categories.reduce((acc, cat) =&gt; ({ ...acc, [cat.name]: cat.score }), {}) } };
    const updatedHistory = [...history, newEntry];
    setHistory(updatedHistory);
    localStorage.setItem(&#39;trackerHistory&#39;, JSON.stringify(updatedHistory));
    setCategories(categories.map(cat =&gt; ({ ...cat, score: null })));
    alert(&#39;Scores submitted!&#39;);
  };

  const allScored = categories.every(cat =&gt; cat.score !== null);

  const getFilteredHistory = () =&gt; {
    const now = new Date();
    const filterDate = new Date();
    if (timeScale === &#39;week&#39;) {
      filterDate.setDate(now.getDate() - 7);
    } else if (timeScale === &#39;month&#39;) {
      filterDate.setMonth(now.getMonth() - 1);
    } else if (timeScale === &#39;year&#39;) {
      filterDate.setFullYear(now.getFullYear() - 1);
    }
    return history.filter(entry =&gt; new Date(entry.date) &gt;= filterDate);
  };

  return (
    &lt;div className=&quot;max-w-md mx-auto h-screen flex flex-col p-4 bg-gray-100&quot;&gt;
      &lt;div className=&quot;flex justify-between mb-4&quot;&gt;
        &lt;button
          className={`px-4 py-2 ${view === &#39;tracker&#39; ? &#39;bg-blue-500 text-white&#39; : &#39;bg-gray-200&#39;} rounded`}
          onClick={() =&gt; setView(&#39;tracker&#39;)}
        &gt;
          Tracker
        &lt;/button&gt;
        &lt;button
          className={`px-4 py-2 ${view === &#39;history&#39; ? &#39;bg-blue-500 text-white&#39; : &#39;bg-gray-200&#39;} rounded`}
          onClick={() =&gt; setView(&#39;history&#39;)}
        &gt;
          History
        &lt;/button&gt;
      &lt;/div&gt;

      {view === &#39;tracker&#39; ? (
        &lt;&gt;
          &lt;div className=&quot;flex-1 overflow-y-auto mb-16&quot;&gt;
            {categories.map(category =&gt; (
              &lt;div key={category.id} className=&quot;flex justify-between items-center p-2 bg-white rounded mb-2 shadow&quot;&gt;
                &lt;span&gt;{category.name}&lt;/span&gt;
                &lt;span className=&quot;text-lg&quot;&gt;{category.score || &#39;-&#39;}&lt;/span&gt;
              &lt;/div&gt;
            ))}
          &lt;/div&gt;
          &lt;div className=&quot;fixed bottom-0 left-0 right-0 max-w-md mx-auto p-4 bg-white shadow-lg flex justify-between&quot;&gt;
            {[1, 2, 3, 4, 5].map(score =&gt; (
              &lt;button
                key={score}
                className=&quot;px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600&quot;
                onClick={() =&gt; {
                  const selectedCategory = categories.find(cat =&gt; cat.score === null);
                  if (selectedCategory) {
                    handleScore(selectedCategory.id, score);
                  }
                }}
              &gt;
                {score}
              &lt;/button&gt;
            ))}
            {allScored &amp;&amp; (
              &lt;button
                className=&quot;px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600&quot;
                onClick={submitScores}
              &gt;
                Submit
              &lt;/button&gt;
            )}
          &lt;/div&gt;
        &lt;/&gt;
      ) : (
        &lt;div className=&quot;flex-1 overflow-y-auto&quot;&gt;
          &lt;div className=&quot;flex justify-between mb-4&quot;&gt;
            &lt;button
              className={`px-4 py-2 ${timeScale === &#39;week&#39; ? &#39;bg-blue-500 text-white&#39; : &#39;bg-gray-200&#39;} rounded`}
              onClick={() =&gt; setTimeScale(&#39;week&#39;)}
            &gt;
              Week
            &lt;/button&gt;
            &lt;button
              className={`px-4 py-2 ${timeScale === &#39;month&#39; ? &#39;bg-blue-500 text-white&#39; : &#39;bg-gray-200&#39;} rounded`}
              onClick={() =&gt; setTimeScale(&#39;month&#39;)}
            &gt;
              Month
            &lt;/button&gt;
            &lt;button
              className={`px-4 py-2 ${timeScale === &#39;year&#39; ? &#39;bg-blue-500 text-white&#39; : &#39;bg-gray-200&#39;} rounded`}
              onClick={() =&gt; setTimeScale(&#39;year&#39;)}
            &gt;
              Year
            &lt;/button&gt;
          &lt;/div&gt;
          {getFilteredHistory().length === 0 ? (
            &lt;p&gt;No data available for this time scale.&lt;/p&gt;
          ) : (
            getFilteredHistory().map(entry =&gt; (
              &lt;div key={entry.date} className=&quot;p-2 bg-white rounded mb-2 shadow&quot;&gt;
                &lt;h3 className=&quot;font-bold&quot;&gt;{entry.date}&lt;/h3&gt;
                {Object.entries(entry.scores).map(([name, score]) =&gt; (
                  &lt;div key={name} className=&quot;flex justify-between&quot;&gt;
                    &lt;span&gt;{name}&lt;/span&gt;
                    &lt;span&gt;{score}&lt;/span&gt;
                  &lt;/div&gt;
                ))}
              &lt;/div&gt;
            ))
          )}
        &lt;/div&gt;
      )}
    &lt;/div&gt;
  );
};

try {
  const root = createRoot(document.getElementById(&#39;root&#39;));
  root.render(App());
} catch (error) {
  console.error(&#39;Failed to render React app:&#39;, error);
}

if (&#39;serviceWorker&#39; in navigator) {
  window.addEventListener(&#39;load&#39;, () =&gt; {
    navigator.serviceWorker.register(&#39;/service-worker.js&#39;)
      .then(registration =&gt; {
        console.log(&#39;Service Worker registered:&#39;, registration);
      })
      .catch(error =&gt; {
        console.error(&#39;Service Worker registration failed:&#39;, error);
      });
  });
}
</code></pre>
<p>  
(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96464acfedae1e2d',t:'MTc1MzM5MDI1MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();
